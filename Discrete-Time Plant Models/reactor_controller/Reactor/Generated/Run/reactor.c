// This file is generated by FBC.

#include "reactor.h"
#include <string.h>
#include <stdio.h>

/* Function block initialization function */
void reactorinit(reactor* me)
{
    controllerinit(&me->controller);
    plantinit(&me->plant);
    ytimer1init(&me->ytimer1);
    ytimer2init(&me->Reference);
}

/* Function block execution function */
void reactorrun(reactor* me)
{
    me->controller._timer2 = me->Reference._y2;
    me->controller._timer1 = me->ytimer1._y1;
    me->controller._x = me->plant._x;
    me->controller._input.event.clock = me->Reference._output.event.update || me->ytimer1._output.event.update || me->plant._output.event.update;
    me->plant._input.event.add2 = me->controller._output.event.add2;
    me->plant._input.event.add1 = me->controller._output.event.add1;
    me->plant._input.event.remove2 = me->controller._output.event.remove2;
    me->plant._input.event.remove1 = me->controller._output.event.remove1;
    me->ytimer1._input.event.restart = me->controller._output.event.refresh1;
    me->Reference._input.event.restart = me->controller._output.event.refresh2;
    
    controllerrun(&me->controller);
    plantrun(&me->plant);
    ytimer1run(&me->ytimer1);
    ytimer2run(&me->Reference);
    
}
