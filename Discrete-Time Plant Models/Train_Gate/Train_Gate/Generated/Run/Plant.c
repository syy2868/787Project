// This file is generated by FBC.

#include "Plant.h"
#include <string.h>
#include <stdio.h>

/* Function block initialization function */
void Plantinit(Plant* me)
{
    me->_input.events = 0;
    me->_output.events = 0;
    Train1init(&me->Train1);
    Gateinit(&me->Gate);
    Train2init(&me->Train2);
    Timerinit(&me->Timer);
}

/* Function block execution function */
void Plantrun(Plant* me)
{
    me->Train1._x = me->Gate._x;
    me->Train1._c = me->Timer._c;
    me->Train1._input.event.update = me->Gate._output.event.update_g;
    me->Train1._input.event.count = me->Timer._output.event.count;
    me->Gate._input.event.UP = me->_input.event.UP;
    me->Gate._input.event.DOWN = me->_input.event.DOWN;
    me->Train2._x = me->Gate._x;
    me->Train2._c = me->Timer._c;
    me->Train2._input.event.update = me->Gate._output.event.update_g;
    me->Train2._input.event.count = me->Timer._output.event.count;
    
    Train1run(&me->Train1);
    Gaterun(&me->Gate);
    Train2run(&me->Train2);
    Timerrun(&me->Timer);
    
    me->_output.event.update = me->Train1._output.event.update_t1 || me->Train2._output.event.update_t2 || me->Gate._output.event.update_g;
    me->_t2 = me->Train2._t2;
    me->_t1 = me->Train1._t1;
    me->_y1 = me->Train1._y1;
    me->_y2 = me->Train2._y2;
}
