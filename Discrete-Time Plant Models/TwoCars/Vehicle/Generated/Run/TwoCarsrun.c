// This file is generated by FBC.

#include "TwoCars.h"
#include <string.h>
#include <stdlib.h>
#include <stdio.h>

typedef struct {
    LREAL _Car1Pos;
    LREAL _Car2Pos;
    LREAL _Car1Speed;
    LREAL _Car2Speed;
} TwoCarsReg;

#ifdef _MSC_VER
#include <windows.h>
#include <time.h>
int gettimeofday(struct timeval* tp, void* tzp)
{ 
    DWORD t;
    t = GetTickCount();
    tp->tv_sec = t / 1000;
    tp->tv_usec = (t % 1000) * 1000; 
    return 0; // 0 indicates that the call succeeded.
}

void timersub( const struct timeval * tvp, const struct timeval * uvp, struct timeval* vvp )
{ 
    vvp->tv_sec = tvp->tv_sec - uvp->tv_sec;
    vvp->tv_usec = tvp->tv_usec - uvp->tv_usec;
    if( vvp->tv_usec < 0 )
    { 
       --vvp->tv_sec;
       vvp->tv_usec += 1000000;
    }
}
#endif // _MSC_VER

int main(int argc, char* argv[])
{
    TwoCarsReg _sysInterface;
    TwoCars _var;
    memset(&_sysInterface, 0, sizeof(TwoCarsReg));
    memset(&_var, 0, sizeof(TwoCars));
    TwoCarsinit(&_var);

    for (;;) {
        TwoCarsrun(&_var);
        _sysInterface._Car1Pos = _var._Car1Pos;
        _sysInterface._Car2Pos = _var._Car2Pos;
        _sysInterface._Car1Speed = _var._Car1Speed;
        _sysInterface._Car2Speed = _var._Car2Speed;
    }

    return 0;
}
